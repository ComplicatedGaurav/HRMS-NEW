{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\panka\\\\Downloads\\\\Human-Resource-management-master\\\\client\\\\src\\\\components\\\\layouts\\\\Admin\\\\ViewEmployees.jsx\";\nimport axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { Consumer } from \"../../../context\";\nimport EmpCard from \"./EmpCard\";\nimport SearchEmp from \"./SearchEmp\";\nimport AdminSidePanel from \"./AdminSidePanel\";\nimport noEmp from \"../../../assets/images/noEmp.png\";\nimport { Spring } from \"react-spring/renderprops\";\nexport default class ViewEmployees extends Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = async () => {\n      const empList = await axios.get(\"/api/admin/getEmpList\");\n      console.log(\"List: \", empList.data);\n      this.setState({\n        empList: empList.data,\n        loading: false\n      });\n    };\n\n    this.onFilter = empList => {\n      this.setState({\n        empList\n      });\n    };\n\n    this.state = {\n      empList: [],\n      loading: true\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Consumer, {\n      children: value => {\n        let {\n          user\n        } = value;\n        const token = localStorage.getItem(\"auth-token\");\n        if (!token) return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 30\n        }, this);\n        if (user && user.role !== \"admin\") return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/empDashBoard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 20\n        }, this);\n        return /*#__PURE__*/_jsxDEV(Spring, {\n          from: {\n            opacity: 0\n          },\n          to: {\n            opacity: 1\n          },\n          config: {\n            duration: 300\n          },\n          children: props => /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row m-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-2 p-0 leftPart\",\n                children: /*#__PURE__*/_jsxDEV(AdminSidePanel, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col \",\n                style: props,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: /*#__PURE__*/_jsxDEV(SearchEmp, {\n                    onFilter: this.onFilter\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 23\n                }, this), this.state.loading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-center\",\n                  children: \"Loading...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 25\n                }, this) : this.state.empList.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"container\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    style: {\n                      display: \"flex\"\n                    },\n                    children: this.state.empList.map((emp, index) => {\n                      return /*#__PURE__*/_jsxDEV(EmpCard, {\n                        data: emp\n                      }, index, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 81,\n                        columnNumber: 38\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"container  text-secondary text-center mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: noEmp,\n                    alt: \"\",\n                    height: \"200px\",\n                    className: \"mt-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                    className: \"mt-4\",\n                    children: \"No Employees found...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 19\n            }, this)\n          }, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/panka/Downloads/Human-Resource-management-master/client/src/components/layouts/Admin/ViewEmployees.jsx"],"names":["axios","React","Component","Redirect","Consumer","EmpCard","SearchEmp","AdminSidePanel","noEmp","Spring","ViewEmployees","constructor","componentDidMount","empList","get","console","log","data","setState","loading","onFilter","state","render","value","user","token","localStorage","getItem","role","opacity","duration","props","length","display","map","emp","index"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { Consumer } from \"../../../context\";\nimport EmpCard from \"./EmpCard\";\nimport SearchEmp from \"./SearchEmp\";\nimport AdminSidePanel from \"./AdminSidePanel\";\nimport noEmp from \"../../../assets/images/noEmp.png\";\nimport { Spring } from \"react-spring/renderprops\";\n\nexport default class ViewEmployees extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      empList: [],\n      loading: true,\n    };\n  }\n\n  componentDidMount = async () => {\n    const empList = await axios.get(\"/api/admin/getEmpList\");\n    console.log(\"List: \", empList.data);\n    this.setState({\n      empList: empList.data,\n      loading: false,\n    });\n  };\n\n  // to filter data according to search criteria\n  onFilter = (empList) => {\n    this.setState({ empList });\n  };\n\n  render() {\n    return (\n      <Consumer>\n        {(value) => {\n          let { user } = value;\n\n          const token = localStorage.getItem(\"auth-token\");\n\n          if (!token) return <Redirect to=\"/login\" />;\n          if (user && user.role !== \"admin\")\n            return <Redirect to=\"/empDashBoard\" />;\n\n          return (\n            <Spring\n              from={{ opacity: 0 }}\n              to={{ opacity: 1 }}\n              config={{ duration: 300 }}\n            >\n              {(props) => (\n                <>\n                  <div className=\"row m-0\">\n                    {/* left part */}\n                    <div className=\"col-2 p-0 leftPart\">\n                      <AdminSidePanel />\n                    </div>\n\n                    {/* right part */}\n                    <div className=\"col \" style={props}>\n                      <div className=\"row\">\n                        <SearchEmp onFilter={this.onFilter} />\n                      </div>\n\n                      <hr />\n\n                      {/* emp list */}\n                      {this.state.loading ? (\n                        <h1 className=\"text-center\">Loading...</h1>\n                      ) : this.state.empList.length ? (\n                        <div className=\"container\">\n                          <div\n                            className=\"row\"\n                            style={{\n                              display: \"flex\",\n                            }}\n                          >\n                            {this.state.empList.map((emp, index) => {\n                              return <EmpCard key={index} data={emp} />;\n                            })}\n                          </div>\n                        </div>\n                      ) : (\n                        <div className=\"container  text-secondary text-center mt-2\">\n                          <img\n                            src={noEmp}\n                            alt=\"\"\n                            height=\"200px\"\n                            className=\"mt-5\"\n                          />\n                          <h1 className=\"mt-4\">No Employees found...</h1>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </>\n              )}\n            </Spring>\n          );\n        }}\n      </Consumer>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
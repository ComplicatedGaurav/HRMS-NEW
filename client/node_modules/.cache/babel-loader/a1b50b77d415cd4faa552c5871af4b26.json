{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"F:\\\\Human-Resource-management-master\\\\client\\\\src\\\\components\\\\layouts\\\\Admin\\\\Stats\\\\Statistics.jsx\";\nimport axios from \"axios\";\nimport React, { Component } from \"react\";\nimport PieChart from \"./PieChart\";\nimport BarChart from \"./BarChart\";\nimport BarChart2 from \"./BarChart2\";\nimport LineChart from \"./LineChart\";\nimport AdminSidePanel from \"../AdminSidePanel\";\nimport \"../../../../assets/stats-styles/stats.css\";\nimport Card from \"./Card\";\nimport { Consumer } from \"../../../../context\";\nimport { Redirect } from \"react-router-dom\";\nimport { Spring } from \"react-spring/renderprops\";\nexport default class Statistics extends Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = async () => {\n      const empList = await axios.get(\"/api/admin/getEmpList\");\n      const empSalList = await axios.get(\"/api/admin/getEmpSalList\");\n      const loanList = await axios.get(\"/api/admin/getLoanList\");\n      this.setState({\n        empList: empList.data,\n        empSalList: empSalList.data,\n        loanList: loanList.data\n      }, () => {\n        this.calTotalExpenses();\n        this.calLoanExpenses();\n      });\n    };\n\n    this.calLoanExpenses = () => {\n      let totalLoan = 0;\n      console.log(\"emp loan list: \", this.state.loanList);\n      this.state.loanList.forEach(loan => {\n        if (!loan.loanRepaid) totalLoan += parseInt(loan.amount);\n      });\n      this.setState({\n        loanExpenses: totalLoan\n      });\n    };\n\n    this.calTotalExpenses = () => {\n      let totalExpenses = 0;\n      console.log(\"emp sal list: \", this.state.empSalList);\n      this.state.empSalList.forEach(emp => {\n        totalExpenses += parseInt(emp.salary);\n      });\n      this.setState({\n        totalExpenses\n      });\n    };\n\n    this.state = {\n      empList: [],\n      empSalList: [],\n      loanList: [],\n      totalExpenses: 0,\n      loanExpenses: 0\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Consumer, {\n      children: value => {\n        let {\n          user\n        } = value;\n        const token = localStorage.getItem(\"auth-token\");\n        if (!token) return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 30\n        }, this);\n        if (user && user.role !== \"admin\") return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/empDashBoard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 20\n        }, this); //added this condition coz it was showing admin panel till emp data was loaded\n\n        if (user && user.role === \"admin\") return /*#__PURE__*/_jsxDEV(Spring, {\n          from: {\n            opacity: 0\n          },\n          to: {\n            opacity: 1\n          },\n          config: {\n            duration: 300\n          },\n          children: props => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row m-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-2 p-0 leftPart\",\n              children: /*#__PURE__*/_jsxDEV(AdminSidePanel, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-9 rightPart container\",\n              style: props,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row mt-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col \",\n                  children: /*#__PURE__*/_jsxDEV(Card, {\n                    label: \"Salary Expenses\",\n                    data: `₹ ${this.state.totalExpenses}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col \",\n                  children: /*#__PURE__*/_jsxDEV(Card, {\n                    label: \"Loan Expenses\",\n                    data: `₹ ${this.state.loanExpenses}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: /*#__PURE__*/_jsxDEV(Card, {\n                    label: \"Employee Count\",\n                    data: this.state.empList.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row mt-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6 my-4\",\n                  children: /*#__PURE__*/_jsxDEV(PieChart, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6 my-4\",\n                  children: /*#__PURE__*/_jsxDEV(BarChart, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row mt-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6 my-4\",\n                  children: /*#__PURE__*/_jsxDEV(BarChart2, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6 my-4\",\n                  children: /*#__PURE__*/_jsxDEV(LineChart, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["F:/Human-Resource-management-master/client/src/components/layouts/Admin/Stats/Statistics.jsx"],"names":["axios","React","Component","PieChart","BarChart","BarChart2","LineChart","AdminSidePanel","Card","Consumer","Redirect","Spring","Statistics","constructor","componentDidMount","empList","get","empSalList","loanList","setState","data","calTotalExpenses","calLoanExpenses","totalLoan","console","log","state","forEach","loan","loanRepaid","parseInt","amount","loanExpenses","totalExpenses","emp","salary","render","value","user","token","localStorage","getItem","role","opacity","duration","props","length"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport PieChart from \"./PieChart\";\nimport BarChart from \"./BarChart\";\nimport BarChart2 from \"./BarChart2\";\nimport LineChart from \"./LineChart\";\nimport AdminSidePanel from \"../AdminSidePanel\";\nimport \"../../../../assets/stats-styles/stats.css\";\nimport Card from \"./Card\";\nimport { Consumer } from \"../../../../context\";\nimport { Redirect } from \"react-router-dom\";\nimport { Spring } from \"react-spring/renderprops\";\nexport default class Statistics extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      empList: [],\n      empSalList: [],\n      loanList: [],\n      totalExpenses: 0,\n      loanExpenses: 0,\n    };\n  }\n\n  componentDidMount = async () => {\n    const empList = await axios.get(\"/api/admin/getEmpList\");\n    const empSalList = await axios.get(\"/api/admin/getEmpSalList\");\n    const loanList = await axios.get(\"/api/admin/getLoanList\");\n\n    this.setState(\n      {\n        empList: empList.data,\n        empSalList: empSalList.data,\n        loanList: loanList.data,\n      },\n      () => {\n        this.calTotalExpenses();\n        this.calLoanExpenses();\n      }\n    );\n  };\n\n  calLoanExpenses = () => {\n    let totalLoan = 0;\n\n    console.log(\"emp loan list: \", this.state.loanList);\n\n    this.state.loanList.forEach((loan) => {\n      if (!loan.loanRepaid) totalLoan += parseInt(loan.amount);\n    });\n\n    this.setState({ loanExpenses: totalLoan });\n  };\n\n  calTotalExpenses = () => {\n    let totalExpenses = 0;\n    console.log(\"emp sal list: \", this.state.empSalList);\n    this.state.empSalList.forEach((emp) => {\n      totalExpenses += parseInt(emp.salary);\n    });\n\n    this.setState({ totalExpenses });\n  };\n\n  render() {\n    return (\n      <Consumer>\n        {(value) => {\n          let { user } = value;\n          const token = localStorage.getItem(\"auth-token\");\n\n          if (!token) return <Redirect to=\"/login\" />;\n          if (user && user.role !== \"admin\")\n            return <Redirect to=\"/empDashBoard\" />;\n\n          //added this condition coz it was showing admin panel till emp data was loaded\n          if (user && user.role === \"admin\")\n            return (\n              <Spring\n                from={{ opacity: 0 }}\n                to={{ opacity: 1 }}\n                config={{ duration: 300 }}\n              >\n                {(props) => (\n                  <div className=\"row m-0\">\n                    {/* left part */}\n                    <div className=\"col-2 p-0 leftPart\">\n                      <AdminSidePanel />\n                    </div>\n\n                    {/* right part */}\n                    <div className=\"col-9 rightPart container\" style={props}>\n                      {/* numbers */}\n                      <div className=\"row mt-5\">\n                        <div className=\"col \">\n                          <Card\n                            label=\"Salary Expenses\"\n                            data={`₹ ${this.state.totalExpenses}`}\n                          />\n                        </div>\n                        <div className=\"col \">\n                          <Card\n                            label=\"Loan Expenses\"\n                            data={`₹ ${this.state.loanExpenses}`}\n                          />\n                        </div>\n                        <div className=\"col\">\n                          <Card\n                            label=\"Employee Count\"\n                            data={this.state.empList.length}\n                          />\n                        </div>\n                      </div>\n\n                      {/* charts */}\n                      <div className=\"row mt-5\">\n                        <div className=\"col-6 my-4\">\n                          <PieChart />\n                        </div>\n\n                        <div className=\"col-6 my-4\">\n                          <BarChart />\n                        </div>\n                      </div>\n\n                      <div className=\"row mt-4\">\n                        <div className=\"col-6 my-4\">\n                          <BarChart2 />\n                        </div>\n                        <div className=\"col-6 my-4\">\n                          <LineChart />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </Spring>\n            );\n        }}\n      </Consumer>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}